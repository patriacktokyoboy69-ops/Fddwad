

wait(1)
local T = game:GetService("TeleportService")
local Players = game:GetService("Players")
local LP = Players.LocalPlayer
local RS = game:GetService("ReplicatedStorage")

local TeleportController = {
    inFlight = false,
    lastTeleportAt = 0,
    cooldown = 9,          -- ‡∏Å‡∏±‡∏ô‡∏™‡πÅ‡∏õ‡∏°: ‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏≠‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 9s ‡∏Å‡πà‡∏≠‡∏ô‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡∏°‡πà
    timeout  = 45,         -- ‡∏ñ‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ 45s ‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á/‡πÑ‡∏°‡πà‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÑ‡∏ó‡∏£
    attempts = 0,
    maxAttempts = 4,       -- ‡∏£‡∏µ‡πÑ‡∏ó‡∏£‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 4 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢ rejoin
    expectedPlaceId = nil,
}

function TeleportController:IsBusy()
    return self.inFlight or (tick() - self.lastTeleportAt < self.cooldown)
end

-- ‚úÖ ‡∏ö‡∏π‡∏ï‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ (‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)
local BOOT_URL = "https://raw.githubusercontent.com/SDsfwqq/Auto-Mob/main/main.lua"
local q = (syn and syn.queue_on_teleport) or queue_on_teleport or (fluxus and fluxus.queue_on_teleport)
pcall(function()
    if q then
        q(([[
            task.defer(function()
                local ok, err = pcall(function()
                    loadstring(game:HttpGet("%s"))()
                end)
                if not ok then warn("Boot failed after teleport:", err) end
            end)
        ]]):format(BOOT_URL))
    end
end)

-- üõ°Ô∏è watchdog ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏£‡πå‡∏õ
function TeleportController:_watch()
    local start = tick()
    local arrived = false
    local arrivedConn; arrivedConn = T.LocalPlayerArrivedFromTeleport:Connect(function()
        arrived = true
        if arrivedConn then arrivedConn:Disconnect() end
    end)

    -- ‡∏£‡∏≠‡∏ñ‡∏∂‡∏á‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô PlaceId ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
    while tick() - start < self.timeout do
        if game.PlaceId == self.expectedPlaceId then
            arrived = true
            break
        end
        task.wait(0.25)
    end

    if arrived then
        -- ‡∏≠‡∏≠‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏ù‡∏±‡πà‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á (queue_on_teleport ‡∏à‡∏∞‡∏ö‡∏π‡∏ï‡πÉ‡∏´‡∏°‡πà)
        self.inFlight = false
        self.attempts = 0
        return
    end

    -- ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ ‚Üí ‡∏£‡∏µ‡πÑ‡∏ó‡∏£/‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏ú‡∏ô
    self.inFlight = false
    self.attempts += 1
    if self.attempts < self.maxAttempts then
        warn(("Teleport watchdog: timeout, retry #%d ..."):format(self.attempts))
        task.wait(2 + math.random()) -- ‡πÅ‡∏ó‡∏£‡πá‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏Å‡∏±‡∏ô‡∏ä‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á
        self:Go(self.expectedPlaceId, "[watchdog-timeout-retry]")
    else
        warn("Teleport watchdog: too many failures ‚Üí rejoin same place")
        pcall(function() T:Teleport(game.PlaceId, LP) end)
        self.attempts = 0
    end
end

-- ‚õî ‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å error ‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡πÄ‡∏Å‡∏°‡πÄ‡∏ï‡πá‡∏°/‡∏ñ‡∏π‡∏Å‡∏à‡∏≥‡∏Å‡∏±‡∏î/HTTP ‡∏•‡πâ‡∏° ‡∏Ø‡∏•‡∏Ø)
T.TeleportInitFailed:Connect(function(player, result, message)
    if player ~= LP then return end
    TeleportController.inFlight = false
    warn("TeleportInitFailed:", result, message)

    -- ‡πÄ‡∏Å‡∏°‡πÄ‡∏ï‡πá‡∏° ‚Üí ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡∏´‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà (‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô getServerWithFewPlayers ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß)
    if result == Enum.TeleportResult.GameFull then
        -- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏•‡∏≠‡∏á‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏•‡∏Å‡∏≠‡∏∑‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ getServerWithFewPlayers(self.expectedPlaceId) ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
        task.spawn(function()
            task.wait(2)
            TeleportController.attempts += 1
            if TeleportController.attempts < TeleportController.maxAttempts then
                TeleportController:Go(TeleportController.expectedPlaceId, "[retry-gamefull]")
            else
                pcall(function() T:Teleport(game.PlaceId, LP) end)
                TeleportController.attempts = 0
            end
        end)
    end
end)

-- üîÅ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å
function TeleportController:Go(placeId, reason)
    if not placeId then return false end
    if self:IsBusy() then
        -- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÇ‡∏î‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ñ‡∏µ‡πà‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏•‡∏π‡∏õ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô
        return false
    end
    self.inFlight = true
    self.expectedPlaceId = placeId
    self.lastTeleportAt = tick()
    -- ‡πÉ‡∏ä‡πâ remote ‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏° 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
    pcall(function()
        RS.Remotes.WorldTeleportRemote:InvokeServer(placeId, {})
    end)
    task.defer(function()
        self:_watch()
    end)
    return true
end

-- üéØ helper ‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏´‡∏≤‡πÄ‡∏à‡∏≠/‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏á‡πà‡∏≤‡∏¢
local function GoWorld(placeId, why)
    return TeleportController:Go(placeId, why)
end

pcall(function()
    local mobRemote = game:GetService("ReplicatedStorage"):FindFirstChild("Remotes")
    if mobRemote then
        local target = mobRemote:FindFirstChild("MobDamageRemote")
        if target then
            target:Destroy()
            print("‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå")
        end
    end
end)



    ----------------------------------------------------
    -- üêâ ‡∏Ç‡∏µ‡πà + ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏≤‡∏Å workspace.Characters.PlayerName.Dragons)
    ----------------------------------------------------

    local player = game.Players.LocalPlayer
    local char = player.Character or player.CharacterAdded:Wait()
    local remotes = game:GetService("ReplicatedStorage"):WaitForChild("Remotes")

    -- üß© ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÉ‡∏ô workspace
    local dragonFolder = workspace:WaitForChild("Characters")
        :WaitForChild(player.Name)
        :WaitForChild("Dragons")

    -- üß© ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å‡πÉ‡∏ô Dragons
    local function getAutoDragon()
        local dragons = dragonFolder:GetChildren()
        if #dragons > 0 then
            return dragons[1]
        else
            return nil
        end
    end

    -- üß© ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£
    local function reviveDragon(dragonModel)
        local dragonName = dragonModel.Name
        local deadFlag = dragonModel:FindFirstChild("Data") and dragonModel.Data:FindFirstChild("Dead")

        if deadFlag and deadFlag.Value == true then
            print("üíÄ ‡∏°‡∏±‡∏á‡∏Å‡∏£", dragonName, "‡∏ï‡∏≤‡∏¢ ‚Äî ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏∑‡πâ‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏ä‡∏µ‡∏û...")
            local args = { dragonName, "DragonRevivalHeart" }

            local success, err = pcall(function()
                remotes:WaitForChild("ReviveDragonRemote"):InvokeServer(unpack(args))
            end)

            if success then
                print("‚ù§Ô∏è ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", dragonName)
                task.wait(1)
            else
                warn("‚ùå ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:", err)
            end
        end
    end

    -- üß† ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å (‡∏ü‡∏∑‡πâ‡∏ô + ‡∏Ç‡∏µ‡πà)
    local function ensureMountedDragon()
        local dragonModel = getAutoDragon()
        if not dragonModel then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÉ‡∏ô workspace.Characters." .. player.Name .. ".Dragons")
            return
        end

        local targetName = dragonModel.Name

        -- üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏Å‡πà‡∏≠‡∏ô
        reviveDragon(dragonModel)

        -- ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏´‡∏°
        local humanoid = char:FindFirstChildOfClass("Humanoid")
        local currentSeat = humanoid and humanoid.SeatPart
        local currentMount = currentSeat and currentSeat:FindFirstAncestorWhichIsA("Model")

        if currentMount and currentMount:IsDescendantOf(dragonFolder) and currentMount.Name == targetName then
            return -- ‡∏Ç‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
        end

        -- ‚úÖ ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ç‡∏µ‡πà ‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Seat ‡πÉ‡∏´‡∏°‡πà
        local seat = dragonModel:FindFirstChildWhichIsA("Seat", true)
        if seat then
            seat:Sit(humanoid)
            print("ü™∂ ‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£:", targetName)

            task.wait(1)
            local flyBtn = player.PlayerGui
                :WaitForChild("HUDGui")
                .BottomFrame.CurrentDragonFrame.DragonControlsFrame.Other:FindFirstChild("Fly")

            if flyBtn and flyBtn:FindFirstChild("MouseButton1Down") then
                firesignal(flyBtn.MouseButton1Down)
                print("üõ´ ‡∏ö‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß!")
            end
        else
            warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö Seat ‡πÉ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£:", targetName)
        end
    end

    -- üîÅ ‡∏ï‡∏£‡∏ß‡∏à‡∏ã‡πâ‡∏≥‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥ (‡∏ü‡∏∑‡πâ‡∏ô + ‡∏Ç‡∏µ‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
    task.spawn(function()
        while true do
            task.wait(1)
            pcall(ensureMountedDragon)
        end
    end)

    -- üîÅ ‡∏ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏µ‡∏™‡∏õ‡∏≤‡∏ß‡∏ô‡πå ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏´‡∏°‡πà
    player.CharacterAdded:Connect(function(newChar)
        task.wait(3)
        char = newChar
        pcall(ensureMountedDragon)
    end)


    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local RunService = game:GetService("RunService")
    local UIS = game:GetService("UserInputService")

    ------------------------------------------------------------
    -- ‚öôÔ∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace
    ------------------------------------------------------------
    local function enableFlyControlUseSpace()
        local success, err = pcall(function()
            -- ‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á Setting
            local data = LocalPlayer:WaitForChild("Data", 5)
            if not data then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Data folder")
                return 
            end

            local settings = data:WaitForChild("Settings", 5)
            if not settings then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Settings folder")
                return 
            end

            local flyControlValue = settings:FindFirstChild("FlyControlUseSpace")
            if not flyControlValue then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö FlyControlUseSpace")
                return 
            end

            -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤
            if flyControlValue.Value == true then
                flyControlValue.Value = false
                print("‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace = true ‡πÅ‡∏•‡πâ‡∏ß")
            else
                print("‚úÖ FlyControlUseSpace ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (true)")
            end
        end)

        if not success then
            warn("‚ùå Error ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ FlyControlUseSpace:", err)
        end
    end

    ------------------------------------------------------------
    -- ‚å®Ô∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q
    ------------------------------------------------------------
    local function pressQ()
        -- ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ VirtualInputManager
        local VirtualInputManager = game:GetService("VirtualInputManager")

        -- ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏•‡∏á
        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Q, false, game)

        -- ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà
        task.wait(0.05)

        -- ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏õ‡∏∏‡πà‡∏° Q
        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Q, false, game)
    end

    ------------------------------------------------------------
    -- üõ©Ô∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à  ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£ (‡∏Å‡∏±‡∏ô nil 100%)
    ------------------------------------------------------------
    local function getDragonFlyingState()
        -- ‡∏£‡∏≠ Character ‡∏ñ‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô
        local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        if not char then return false end

        -- ‡∏´‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Dragons
        local dragonsFolder = char:FindFirstChild("Dragons")
        if not dragonsFolder then return false end

        -- ‡∏ß‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ Data.Flying
        for _, dragon in ipairs(dragonsFolder:GetChildren()) do
            if dragon:IsA("Model") then
                local dataFolder = dragon:FindFirstChild("Data")
                if dataFolder then
                    local flyingValue = dataFolder:FindFirstChild("Flying")
                    if flyingValue and flyingValue.Value ~= nil then
                        return flyingValue.Value  -- true ‡∏´‡∏£‡∏∑‡∏≠ false
                    end
                end
            end
        end

        return false
    end

    ------------------------------------------------------------
    -- üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    ------------------------------------------------------------
    local function startFlyingMonitor()
        task.spawn(function()
            while true do
                task.wait(0.5)  -- ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤ wait ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô

                local isFlying = false
                local ok, result = pcall(function()
                    return getDragonFlyingState()
                end)

                if ok then
                    isFlying = result
                else
                    warn("‚ùå getDragonFlyingState Error:", result)
                end

                if not isFlying then
                    print("‚ö†Ô∏è ‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏Å / ‡πÑ‡∏°‡πà‡∏ö‡∏¥‡∏ô ‚Üí ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q!")

                    -- ‡∏•‡∏≠‡∏á‡∏Å‡∏î Q 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à
                    pressQ()
                    task.wait(0.1)
                    pressQ()
                else
                    print("")
                end
            end
        end)
    end

    ------------------------------------------------------------
    -- üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    ------------------------------------------------------------
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÑ‡∏°‡πà‡∏ö‡∏¥‡∏ô")

    -- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace ‡∏Å‡πà‡∏≠‡∏ô
    enableFlyControlUseSpace()

    -- ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÉ‡∏´‡πâ Setting ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
    task.wait(0.5)

    -- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π
    startFlyingMonitor()


----------------------------------------------------
-- ‚öôÔ∏è ‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î + FPS Booster
pcall(function()
	-- ‡∏•‡∏ö‡∏û‡∏≤‡∏£‡πå‡∏ï‡∏¥‡πÄ‡∏Ñ‡∏¥‡∏• ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Ñ
	for _, d in ipairs(workspace:GetDescendants()) do
		if d:IsA("ParticleEmitter") or d:IsA("Trail") or d:IsA("Smoke") or d:IsA("Fire") then
			d.Enabled = false
		elseif d:IsA("Decal") or d:IsA("Texture") then
			d.Transparency = 1
		elseif d:IsA("Explosion") then
			d:Destroy()
		elseif d:IsA("PointLight") or d:IsA("SpotLight") or d:IsA("SurfaceLight") then
			d.Enabled = false
		end
	end
	function removeWorkspaceGui()
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer


    while not player:FindFirstChild("PlayerGui") do
        task.wait()
    end

    local gui = player:FindFirstChild("PlayerGui")
    local target = gui:FindFirstChild("WorkspaceGui")

    if target then
        target:Destroy()
        print("‡∏Å‡∏≤‡∏Å")
    else
        print("‡∏Å‡∏≤‡∏Å")
    end
end

removeWorkspaceGui()

	-- ‡∏•‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
	local decorNames = {"Tree", "Rock", "Bush", "Grass", "Plant", "Flower", "Decoration", "Prop"}
	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("Model") then
			for _, name in ipairs(decorNames) do
				if string.find(obj.Name:lower(), name:lower()) then
					obj:Destroy()
					break
				end
			end
		end
	end
	
	-- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏£‡∏≤‡∏ü‡∏¥‡∏Å‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î
	settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
	workspace.FallenPartsDestroyHeight = -5000
	
	-- ‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏û‡∏∑‡πâ‡∏ô
	for _, part in ipairs(workspace:GetDescendants()) do
		if part:IsA("Terrain") then
			part.WaterWaveSize = 0
			part.WaterWaveSpeed = 0
			part.WaterReflectance = 0
			part.WaterTransparency = 1
		end
	end
	
	print("üöÄ FPS Booster ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß")
end)

----------------------------------------------------
-- ‚úÖ SERVICES
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()

-- ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå/‡πÄ‡∏Å‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
local function StartAFKMonitor(config)
    local UIS = game:GetService("UserInputService")
    local RunService = game:GetService("RunService")

    local threshold = (config and config.threshold) or 300 -- ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡∏ß‡πà‡∏≤ AFK (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô 5 ‡∏ô‡∏≤‡∏ó‡∏µ)
    local timeout   = (config and config.timeout)   or 30  -- ‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
    local lastActive = os.clock()
    local prompting, promptStart = false, 0
    local conns = {}

    local function safeCall(fn)
        if typeof(fn) == "function" then
            local ok, err = pcall(fn)
            if not ok then warn("[AFKMonitor] callback error:", err) end
        end
    end

    local function markActive()
        lastActive = os.clock()
        if prompting then
            prompting = false
            safeCall(config and config.onActive)
        end
    end

    conns[#conns+1] = UIS.InputBegan:Connect(markActive)
    conns[#conns+1] = UIS.InputChanged:Connect(markActive)
    conns[#conns+1] = UIS.InputEnded:Connect(markActive)

    conns[#conns+1] = RunService.Heartbeat:Connect(function()
        local idle = os.clock() - lastActive

        if idle >= threshold and not prompting then
            prompting = true
            promptStart = os.clock()
            safeCall(config and config.onPrompt)   -- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
        end

        if prompting and (os.clock() - promptStart) >= timeout then
            prompting = false
            safeCall(config and config.onTimeout)  -- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö
        end
    end)

    local function stop()
        for _, c in ipairs(conns) do
            pcall(function() c:Disconnect() end)
        end
    end

    return {
        stop = stop,
        markActive = markActive, -- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏°‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¥‡∏ô‡∏û‡∏∏‡∏ï
    }
end

----------------------------------------------------
-- Anti-AFK (‡∏Å‡∏±‡∏ô‡∏´‡∏•‡∏∏‡∏î)
----------------------------------------------------
task.spawn(function()
    local VirtualUser = game:GetService("VirtualUser")
    
 
    Player.Idled:Connect(function()
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
       
    end)
    
  
    while true do
        task.wait(180) -- 3 ‡∏ô‡∏≤‡∏ó‡∏µ
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())

    end
end)

print("‚úÖ Anti-AFK System ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß")

----------------------------------------------------
-- ‚úÖ CONFIG
local FARM_WORLD_ID = 4869039553
local SELL_WORLD_ID = 3475397644
local SAFE_WORLD_IDS = {FARM_WORLD_ID, SELL_WORLD_ID}


local ATTACKS_PER_TARGET = 150  -- ‚ö° ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô 2 ‡πÄ‡∏ó‡πà‡∏≤
local FarmingEnabled = false

local priorityMobs = {
"Dimorph","Stego","Ptero"
}

local patrolPoints = {
	Vector3.new(-266,467,-394),
	Vector3.new(1757,783,672),
	Vector3.new(1420,319,-1409),
	Vector3.new(1922,620,-2566),
	Vector3.new(2226,585,-4128),
	Vector3.new(330,901,-4304),
	Vector3.new(-1433,779,-4717),
	Vector3.new(-3031,780,-4211),
	Vector3.new(-2643,547,-2250),
	Vector3.new(-857,401,-2132),
	Vector3.new(-828,688,-3444),
	Vector3.new(-1819,405,170),
	Vector3.new(-1523,962,1150),
}


----------------------------------------------------
-- ‚úÖ GUI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AFK Farm Bot
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "NEXON_MOB_SELL"
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.DisplayOrder = 9999999
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Parent = Player:WaitForChild("PlayerGui")

-- ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÅ‡∏™‡∏á
local bgFrame = Instance.new("Frame")
bgFrame.Size = UDim2.new(1,0,1,0)
bgFrame.BackgroundColor3 = Color3.fromRGB(0,0,0)
bgFrame.BackgroundTransparency = 0.7
bgFrame.BorderSizePixel = 0
bgFrame.ZIndex = 1000
bgFrame.Visible = false
bgFrame.Parent = screenGui

-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å
local mainBox = Instance.new("Frame")
mainBox.Size = UDim2.new(0, 420, 0, 520)
mainBox.Position = UDim2.new(0.5, -210, 0.5, -260)
mainBox.BackgroundColor3 = Color3.fromRGB(20, 20, 28)
mainBox.BorderSizePixel = 0
mainBox.ZIndex = 1001
mainBox.Parent = screenGui

local mainCorner = Instance.new("UICorner", mainBox)
mainCorner.CornerRadius = UDim.new(0, 16)

local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 60, 0, 60)
toggleButton.Position = UDim2.new(1, -50, 0, 50) -- ‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á‡∏à‡∏≠
toggleButton.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = 20
toggleButton.Text = "‡πÄ‡∏õ‡∏¥‡∏î"
toggleButton.ZIndex = 1004
toggleButton.Parent = screenGui

local corner = Instance.new("UICorner", toggleButton)
corner.CornerRadius = UDim.new(0, 8)
local isVisible = true

toggleButton.MouseButton1Click:Connect(function()
	isVisible = not isVisible
	mainBox.Visible = isVisible
	bgFrame.Visible = isVisible
	toggleButton.Text = isVisible and "‡πÄ‡∏õ‡∏¥‡∏î" or "‡∏õ‡∏¥‡∏î"
end)


-- ‡πÄ‡∏á‡∏≤
local shadow = Instance.new("ImageLabel")
shadow.Name = "Shadow"
shadow.BackgroundTransparency = 1
shadow.Size = UDim2.new(1, 30, 1, 30)
shadow.Position = UDim2.new(0, -15, 0, -15)
shadow.ZIndex = 1000
shadow.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"
shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
shadow.ImageTransparency = 0.5
shadow.Parent = mainBox

-- ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß
local header = Instance.new("Frame")
header.Size = UDim2.new(1, 0, 0, 70)
header.BackgroundColor3 = Color3.fromRGB(30, 30, 42)
header.BorderSizePixel = 0
header.ZIndex = 1002
header.Parent = mainBox

local headerCorner = Instance.new("UICorner", header)
headerCorner.CornerRadius = UDim.new(0, 16)

local headerBottom = Instance.new("Frame")
headerBottom.Size = UDim2.new(1, 0, 0, 20)
headerBottom.Position = UDim2.new(0, 0, 1, -20)
headerBottom.BackgroundColor3 = Color3.fromRGB(30, 30, 42)
headerBottom.BorderSizePixel = 0
headerBottom.ZIndex = 1002
headerBottom.Parent = header

local icon = Instance.new("TextLabel")
icon.Text = "ü§ñ"
icon.Font = Enum.Font.GothamBold
icon.TextSize = 32
icon.TextColor3 = Color3.fromRGB(255, 255, 255)
icon.Size = UDim2.new(0, 50, 1, 0)
icon.Position = UDim2.new(0, 15, 0, 0)
icon.BackgroundTransparency = 1
icon.ZIndex = 1003
icon.Parent = header

local title = Instance.new("TextLabel")
title.Text = "auto mob world Prehistoric"
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Size = UDim2.new(1, -70, 0, 30)
title.Position = UDim2.new(0, 70, 0, 10)
title.BackgroundTransparency = 1
title.ZIndex = 1003
title.Parent = header

local subtitle = Instance.new("TextLabel")
subtitle.Text = "‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà Discord"
subtitle.Font = Enum.Font.Gotham
subtitle.TextSize = 12
subtitle.TextColor3 = Color3.fromRGB(150, 150, 160)
subtitle.TextXAlignment = Enum.TextXAlignment.Left
subtitle.Size = UDim2.new(1, -70, 0, 20)
subtitle.Position = UDim2.new(0, 70, 0, 40)
subtitle.BackgroundTransparency = 1
subtitle.ZIndex = 1003
subtitle.Parent = header

-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -40, 1, -140)
contentFrame.Position = UDim2.new(0, 20, 0, 85)
contentFrame.BackgroundTransparency = 1
contentFrame.ZIndex = 1002
contentFrame.Parent = mainBox

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
local function createStatCard(emoji, name, value, yPos)
	local card = Instance.new("Frame")
	card.Size = UDim2.new(1, 0, 0, 65)
	card.Position = UDim2.new(0, 0, 0, yPos)
	card.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
	card.BorderSizePixel = 0
	card.ZIndex = 1003
	card.Parent = contentFrame
	
	local cardCorner = Instance.new("UICorner", card)
	cardCorner.CornerRadius = UDim.new(0, 10)
	
	local emojiLabel = Instance.new("TextLabel")
	emojiLabel.Text = emoji
	emojiLabel.Font = Enum.Font.GothamBold
	emojiLabel.TextSize = 28
	emojiLabel.Size = UDim2.new(0, 50, 1, 0)
	emojiLabel.Position = UDim2.new(0, 15, 0, 0)
	emojiLabel.BackgroundTransparency = 1
	emojiLabel.ZIndex = 1004
	emojiLabel.Parent = card
	
	local nameLabel = Instance.new("TextLabel")
	nameLabel.Text = name
	nameLabel.Font = Enum.Font.GothamMedium
	nameLabel.TextSize = 14
	nameLabel.TextColor3 = Color3.fromRGB(170, 170, 180)
	nameLabel.TextXAlignment = Enum.TextXAlignment.Left
	nameLabel.Size = UDim2.new(1, -150, 0, 20)
	nameLabel.Position = UDim2.new(0, 70, 0, 12)
	nameLabel.BackgroundTransparency = 1
	nameLabel.ZIndex = 1004
	nameLabel.Parent = card
	
	local valueLabel = Instance.new("TextLabel")
	valueLabel.Text = value
	valueLabel.Font = Enum.Font.GothamBold
	valueLabel.TextSize = 20
	valueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	valueLabel.TextXAlignment = Enum.TextXAlignment.Left
	valueLabel.Size = UDim2.new(1, -150, 0, 25)
	valueLabel.Position = UDim2.new(0, 70, 0, 32)
	valueLabel.BackgroundTransparency = 1
	valueLabel.ZIndex = 1004
	valueLabel.Parent = card
	
	return valueLabel
end

local meatLabel = createStatCard("üçñ", "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠", "0", 0)
local baconLabel = createStatCard("ü•ì", "‡πÄ‡∏ö‡∏Ñ‡πà‡∏≠‡∏ô", "0", 75)
local coinsLabel = createStatCard("üí∞", "‡πÄ‡∏á‡∏¥‡∏ô", "0", 150)

-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Bot
local statusCard = Instance.new("Frame")
statusCard.Size = UDim2.new(1, 0, 0, 55)
statusCard.Position = UDim2.new(0, 0, 0, 235)
statusCard.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
statusCard.BorderSizePixel = 0
statusCard.ZIndex = 1003
statusCard.Parent = contentFrame

local statusCorner = Instance.new("UICorner", statusCard)
statusCorner.CornerRadius = UDim.new(0, 10)

local statusDot = Instance.new("Frame")
statusDot.Size = UDim2.new(0, 12, 0, 12)
statusDot.Position = UDim2.new(0, 20, 0.5, -6)
statusDot.BackgroundColor3 = Color3.fromRGB(100, 100, 110)
statusDot.BorderSizePixel = 0
statusDot.ZIndex = 1004
statusDot.Parent = statusCard

local dotCorner = Instance.new("UICorner", statusDot)
dotCorner.CornerRadius = UDim.new(1, 0)

local statusLabel = Instance.new("TextLabel")
statusLabel.Text = "‚è∏Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ü‡∏≤‡∏°"
statusLabel.Font = Enum.Font.GothamBold
statusLabel.TextSize = 16
statusLabel.TextColor3 = Color3.fromRGB(200, 200, 210)
statusLabel.TextXAlignment = Enum.TextXAlignment.Left
statusLabel.Size = UDim2.new(1, -50, 1, 0)
statusLabel.Position = UDim2.new(0, 45, 0, 0)
statusLabel.BackgroundTransparency = 1
statusLabel.ZIndex = 1004
statusLabel.Parent = statusCard

-- ‡∏õ‡∏∏‡πà‡∏° Start/Stop
local startButton = Instance.new("TextButton")
startButton.Size = UDim2.new(1, 0, 0, 55)
startButton.Position = UDim2.new(0, 0, 0, 305)
startButton.BackgroundColor3 = Color3.fromRGB(50, 180, 100)
startButton.TextColor3 = Color3.fromRGB(255, 255, 255)
startButton.Font = Enum.Font.GothamBold
startButton.TextSize = 18
startButton.Text = "‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ü‡∏≤‡∏°"
startButton.BorderSizePixel = 0
startButton.ZIndex = 1003
startButton.AutoButtonColor = false
startButton.Parent = contentFrame

local btnCorner = Instance.new("UICorner", startButton)
btnCorner.CornerRadius = UDim.new(0, 10)

startButton.MouseEnter:Connect(function()
	TweenService:Create(startButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(60, 200, 110)}):Play()
end)

startButton.MouseLeave:Connect(function()
	if not FarmingEnabled then
		TweenService:Create(startButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(50, 180, 100)}):Play()
	else
		TweenService:Create(startButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(200, 60, 60)}):Play()
	end
end)

-- FPS Counter
local fpsLabel = Instance.new("TextLabel")
fpsLabel.Text = "FPS: 60"
fpsLabel.Font = Enum.Font.GothamBold
fpsLabel.TextSize = 14
fpsLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
fpsLabel.Size = UDim2.new(0, 100, 0, 30)
fpsLabel.Position = UDim2.new(1, -110, 1, -40)
fpsLabel.BackgroundTransparency = 1
fpsLabel.ZIndex = 1003
fpsLabel.Parent = mainBox

local lastUpdate = tick()
local frames = 0
RunService.Heartbeat:Connect(function()
	frames = frames + 1
	if tick() - lastUpdate >= 1 then
		local fps = frames
		fpsLabel.Text = "FPS: "..fps
		fpsLabel.TextColor3 = fps >= 50 and Color3.fromRGB(100, 255, 100) or 
		                      fps >= 30 and Color3.fromRGB(255, 200, 100) or 
		                      Color3.fromRGB(255, 100, 100)
		frames = 0
		lastUpdate = tick()
	end
end)

----------------------------------------------------
-- ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï GUI
task.spawn(function()
	local data = Player:WaitForChild("Data")
	local res = data:WaitForChild("Resources")
	local meat = res:WaitForChild("Meat")
	local bacon = res:WaitForChild("Bacon")
	local coins = data:WaitForChild("Currency"):WaitForChild("Coins")

	while task.wait(0.5) do
		meatLabel.Text = tostring(meat.Value)
		baconLabel.Text = tostring(bacon.Value)
		coinsLabel.Text = tostring(coins.Value)
	end
end)

----------------------------------------------------
-- ‚úÖ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ü‡∏≤‡∏£‡πå‡∏°
local function getTeleporter()
	local remotes = ReplicatedStorage:FindFirstChild("Remotes")
	return remotes and remotes:FindFirstChild("WorldTeleportRemote")
end

local function getSeller()
	local remotes = ReplicatedStorage:FindFirstChild("Remotes")
	return remotes and remotes:FindFirstChild("SellItemRemote")
end

local function getValidRemote()
	local dragons = Character:FindFirstChild("Dragons")
	if not dragons then 
		warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Dragons folder")
		return nil 
	end
	
	-- ‡∏•‡∏≠‡∏á‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á PlaySoundRemote ‡πÅ‡∏•‡∏∞ remote ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ
	for i = 1, 100 do
		local dragon = dragons:FindFirstChild(tostring(i))
		if dragon then
			local remotes = dragon:FindFirstChild("Remotes")
			if remotes then
				-- ‡∏•‡∏≠‡∏á‡∏´‡∏≤ remote ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
				local soundRemote = remotes:FindFirstChild("PlaySoundRemote")
				local attackRemote = remotes:FindFirstChild("AttackRemote")
				local breathRemote = remotes:FindFirstChild("BreathRemote")
				
				local found = soundRemote or attackRemote or breathRemote
				if found then
					print("‚úÖ ‡∏û‡∏ö Remote ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£ ID "..i..": "..found.Name)
					return found
				end
			end
		end
	end
	
	warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Remote ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î")
	return nil
end

local function findTarget()
	local folder = workspace:FindFirstChild("MobFolder")
	if not folder then return nil end
	for _, wrapper in ipairs(folder:GetChildren()) do
		for _, name in ipairs(priorityMobs) do
			local mob = wrapper:FindFirstChild(name)
			if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
				return mob
			end
		end
	end
	return nil
end

local function teleportTo(target)
	if not (Player.Character and Player.Character.PrimaryPart) then return end
	local pos = target:IsA("BasePart") and target.Position or
		(target.PrimaryPart and target.PrimaryPart.Position)
	if pos then
		Player.Character:SetPrimaryPartCFrame(CFrame.new(pos + Vector3.new(0,25,0)))
	end
end

----------------------------------------------------
-- üêâ Hover Dragon ‡∏ñ‡∏≤‡∏ß‡∏£ (‡∏•‡∏≠‡∏¢‡∏™‡∏π‡∏á 25 studs)
local function hoverDragon()
	task.spawn(function()
		while FarmingEnabled do
			local dragons = Character:FindFirstChild("Dragons")
			if dragons then
				for i = 1, 100 do
					local dragon = dragons:FindFirstChild(tostring(i))
					if dragon and dragon:FindFirstChild("PrimaryPart") then
						local primary = dragon.PrimaryPart
						local bp = primary:FindFirstChild("HoverControl")
						
						if not bp then
							bp = Instance.new("BodyPosition")
							bp.Name = "HoverControl"
							bp.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
							bp.P = 10000
							bp.D = 800
							bp.Parent = primary
						end

						local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
						if hrp then
							bp.Position = Vector3.new(hrp.Position.X, hrp.Position.Y + 25, hrp.Position.Z)
						else
							bp.Position = Vector3.new(primary.Position.X, primary.Position.Y + 25, primary.Position.Z)
						end
					end
				end
			end
			RunService.Heartbeat:Wait()
		end
		
		-- ‡∏•‡∏ö BodyPosition ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î‡∏ü‡∏≤‡∏£‡πå‡∏°
		local dragons = Character:FindFirstChild("Dragons")
		if dragons then
			for i = 1, 100 do
				local dragon = dragons:FindFirstChild(tostring(i))
				if dragon and dragon:FindFirstChild("PrimaryPart") then
					local bp = dragon.PrimaryPart:FindFirstChild("HoverControl")
					if bp then bp:Destroy() end
				end
			end
		end
	end)
end

local function attackMob(mob, remote)
    for _ = 1, ATTACKS_PER_TARGET do
        if not (mob and mob:FindFirstChild("Health") and mob.Health.Value > 0) then break end
        remote:FireServer("Breath", "Mobs", mob)
        -- ‚ö° ‡∏•‡∏ö task.wait(0.01) ‡∏≠‡∏≠‡∏Å‡πÄ‡∏•‡∏¢ = ‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î‡πÜ
    end
end


local function patrolArea()
	for i,pos in ipairs(patrolPoints) do
		if not FarmingEnabled then return end
		if Player.Character and Player.Character.PrimaryPart then
			Player.Character:SetPrimaryPartCFrame(CFrame.new(pos + Vector3.new(0,25,0)))
			local mob = findTarget()
			if mob then teleportTo(mob); return end
		end
		task.wait(0.8)
	end
end

local function checkResourcesAndTeleport()
	local res = Player.Data.Resources
	if res.Meat.Value >= 10000 and res.Bacon.Value >= 8000 then
		local tp = getTeleporter()
		if tp then 
			statusLabel.Text = "üöÄ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏Ç‡∏≤‡∏¢..."
			tp:InvokeServer(SELL_WORLD_ID,{})
		end
	end
end

local function sellItemsAndReturn()
	local seller = getSeller()
	if not seller then return end
	for _, item in ipairs({{ItemName="Meat",Amount=10000},{ItemName="Bacon",Amount=10000}}) do
		seller:FireServer(item)
		task.wait(1)
	end
	task.wait(2)
	local tp = getTeleporter()
	if tp then 
		statusLabel.Text = "üîô ‡∏Å‡∏•‡∏±‡∏ö‡πÇ‡∏•‡∏Å‡∏ü‡∏≤‡∏£‡πå‡∏°..."
		tp:InvokeServer(FARM_WORLD_ID,{})
	end
end



for _, v in ipairs(getconnections(game:GetService("Players").LocalPlayer.Idled)) do
    v:Disable()
end

local mt = getrawmetatable(game)
setreadonly(mt, false)

local SuspiciusEvents = {
    "AFKEvent",
    "GameAnalyticsError"
}

local namecall = mt.__namecall
mt.__namecall =
    newcclosure(
    function(self, ...)
        local method = getnamecallmethod()
        local args = {...}

        if method == "FireServer" and table.find(SuspiciusEvents, tostring(self)) then
            return
        end
        return namecall(self, table.unpack(args))
    end
)




----------------------------------------------------
-- ‚úÖ ‡∏•‡∏π‡∏õ‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏´‡∏•‡∏±‡∏Å
local function startFarming()
	FarmingEnabled = true
	statusLabel.Text = "‚úÖ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ü‡∏≤‡∏°"
	statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
	statusDot.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
	startButton.Text = "‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏ü‡∏≤‡∏°"
	startButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
	
	-- üêâ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏≠‡∏¢‡∏°‡∏±‡∏á‡∏Å‡∏£
	hoverDragon()
	
	-- ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Ñ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö
	task.spawn(function()
		while FarmingEnabled do
			TweenService:Create(statusDot, TweenInfo.new(0.8, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), 
				{BackgroundTransparency = 0.3}):Play()
			task.wait(0.8)
		end
		statusDot.BackgroundTransparency = 0
	end)

	local remote = getValidRemote()
	if not remote then 
		warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Dragon Remote")
		stopFarming()
		return 
	end

	while FarmingEnabled do
		local world = game.PlaceId
		
		if world == SELL_WORLD_ID then
			statusLabel.Text = "üí∞ ‡∏Ç‡∏≤‡∏¢‡πÑ‡∏≠‡πÄ‡∏ó‡∏°..."
			sellItemsAndReturn()
			task.wait(5)
		elseif world == FARM_WORLD_ID then
			checkResourcesAndTeleport()
			local mob = findTarget()
			if mob then 
				statusLabel.Text = "‚öîÔ∏è ‡πÇ‡∏à‡∏°‡∏ï‡∏µ: "..mob.Name
				teleportTo(mob)
				attackMob(mob, remote)
			else 
				statusLabel.Text = "üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..."
				patrolArea()
			end
		end
		task.wait(0.5)
	end
end

local function stopFarming()
	FarmingEnabled = false
	statusLabel.Text = "‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î"
	statusLabel.TextColor3 = Color3.fromRGB(200, 200, 210)
	statusDot.BackgroundColor3 = Color3.fromRGB(100, 100, 110)
	startButton.Text = "‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°"
	startButton.BackgroundColor3 = Color3.fromRGB(50, 180, 100)
end

startButton.MouseButton1Click:Connect(function()
	if FarmingEnabled then 
		stopFarming()
	else 
		task.spawn(startFarming) 
	end
end)
----------------------------------------------------
-- ‚úÖ Auto Start ‡∏ó‡∏±‡πâ‡∏á 2 ‡πÇ‡∏•‡∏Å
task.delay(2, function()
	local placeId = game.PlaceId
	local tp = getTeleporter()

	if placeId == FARM_WORLD_ID then
		print("üåæ ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏ü‡∏≤‡∏£‡πå‡∏° ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ü‡∏≤‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥")
		task.spawn(startFarming)

	elseif placeId == SELL_WORLD_ID then
		print("üí∞ ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥")
		FarmingEnabled = true
		task.spawn(function()
			statusLabel.Text = "üí∞ ‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á..."
			statusLabel.TextColor3 = Color3.fromRGB(255, 220, 120)
			statusDot.BackgroundColor3 = Color3.fromRGB(255, 220, 120)

			local seller = getSeller()
			if seller then
				for _, item in ipairs({
					{ItemName="Meat",Amount=10000},
					{ItemName="Bacon",Amount=10000}
				}) do
					seller:FireServer(item)
					print("‚úÖ ‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß:", item.ItemName)
					task.wait(1)
				end
				print("‚è≥ ‡∏Ç‡∏≤‡∏¢‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏£‡∏≠ 2 ‡∏ß‡∏¥ ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Å‡∏•‡∏±‡∏ö‡πÇ‡∏•‡∏Å‡∏ü‡∏≤‡∏£‡πå‡∏°...")
				task.wait(3)
				if tp then tp:InvokeServer(FARM_WORLD_ID, {}) end
			else
				warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö SellItemRemote")
			end
		end)
	else
		print("üåé ‡πÇ‡∏•‡∏Å‡∏≠‡∏∑‡πà‡∏ô ‚Üí ‡∏£‡∏≠‡πÄ‡∏ó‡πÄ‡∏•‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏•‡∏Å‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≤‡∏¢‡∏Å‡πà‡∏≠‡∏ô")
	end
end)



----------------------------------------------------
-- ‚úÖ ‡∏ñ‡πâ‡∏≤‡∏£‡∏µ‡∏™‡∏õ‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà (‡∏ï‡∏≤‡∏¢ / ‡∏ß‡∏≤‡∏£‡πå‡∏õ) ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
Player.CharacterAdded:Connect(function(newChar)
	Character = newChar
	task.wait(3)
	
	-- üõ∞Ô∏è ‡πÄ‡∏ä‡πá‡∏Ñ‡πÇ‡∏•‡∏Å‡∏™‡∏∏‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô
	if checkAndReturnFromRandomWorld() then
		return
	end
	
	if not FarmingEnabled then
		local placeId = game.PlaceId
		if placeId == FARM_WORLD_ID then
			print("üîÑ ‡∏£‡∏µ‡∏™‡∏õ‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏ü‡∏≤‡∏£‡πå‡∏° ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ü‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥")
			task.spawn(startFarming)
		elseif placeId == SELL_WORLD_ID then
			print("üîÑ ‡∏£‡∏µ‡∏™‡∏õ‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á ‚Üí ‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥")
			FarmingEnabled = true
			task.spawn(function()
				local seller = getSeller()
				if seller then
					for _, item in ipairs({
						{ItemName="Meat",Amount=10000},
						{ItemName="Bacon",Amount=10000}
					}) do
						seller:FireServer(item)
						task.wait(1)
					end
					task.wait(3)
					local tp = getTeleporter()
					if tp then tp:InvokeServer(FARM_WORLD_ID,{}) end
				end
			end)
		end
	end
end)




print("‚úÖ ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå NEXON (Auto Farm) ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à")


